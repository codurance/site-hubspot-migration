{% import '../../snippets/button-snippets.html' as snippets %}
{{ require_css(get_asset_url("../../css/modules/text-and-image.css")) }}

<div class="text-and-image__container container--{{ module.image_order }}">
	<div class="text-and-image__copy">
		{% inline_rich_text field="description_text" value="{{ module.description_text }}" %}
		
		<div class="custom-btn">
			{% if module.button_type == "std" %}
				{% set href = module.link_field.url.href %}

			  	{% if module.link_field.url.type is equalto "EMAIL_ADDRESS" %}
					{% set href = "mailto:" + href %}
			  	{% endif %}
		  
				{{
					snippets.button_primary(
						url="{{ href }}{% if module.bookmark_id  %}#{{ module.bookmark_id }} {% endif %}",
						text=module.text_field
					)
				}}
		  
			{% elif module.button_type == "cta" %}
			  	{% cta guid="{{ module.cta_field }}" %}
			{% endif %}
		</div>
	</div>
	<div class="text-and-image__image">
		{% if module.image_field.src %}
			{% set sizeAttrs = 'width="{{ module.image_field.width }}" height="{{ module.image_field.height }}"' %}
			{% if module.image_field.size_type == 'auto' %}
				{% set sizeAttrs = 'style="max-width: 100%; height: auto;"' %}
			{% elif module.image_field.size_type == 'auto_custom_max' %}
				{% set sizeAttrs = 'width="{{ module.image_field.max_width }}" height="{{ module.image_field.max_height }}" style="max-width: 100%; height: auto;"' %}
			{% endif %}
			 {% set loadingAttr = module.image_field.loading != 'disabled' ? 'loading="{{ module.image_field.loading }}"' : '' %}
			<img src="{{ module.image_field.src }}" alt="{{ module.image_field.alt }}" {{ loadingAttr }} {{ sizeAttrs }}>
		{% endif %}
	</div>
</div>