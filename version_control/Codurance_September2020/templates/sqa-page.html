<!--
templateType: page
isAvailableForNewContent: true
label: Software Quality Assessment Packaged Solution Page
-->

{% extends "./layouts/base.html" %}

{{ require_css(get_asset_url("../css/pages/sqa.css")) }}

{% block body %}

<main>
  <section class="hero">
    {% module "hero_content" path="../modules/Text-and-image.module" label="Hero section" %}
  </section>

  <section class="solution region">
		<div class="responsive-page-width lateral-spacing">
			{% module "solution_diagram" path="../modules/Cards-Diagram.module" label="Solution diagram" %}
      {% module "solution_text" path="@hubspot/text" label="Solution text" extra_classes="solution__text" %}			
		</div>	
  </section>

  <section class="modules region responsive-page-width lateral-spacing">
    {% module "modules_header" path="@hubspot/section_header" label="Modules header" %} 

    {# This module is repeated because the first one is to set up the content and the second one to display it.
      The objective is to be able to copy the content on the following accordion module #}
    {% module "modules_listing" 
      path="../modules/Modules-Listing.module" 
      label="Modules listing" 
      export_to_template_context=True 
    %}   
    {% module "modules_listing" 
      path="../modules/Modules-Listing.module" 
    %}  

    {% set core_modules = widget_data.modules_listing.core_modules %}
    {% set strategic_modules = widget_data.modules_listing.strategic_modules %}
    {% set all_modules = (core_modules + strategic_modules) %}
    {% set modules_data_to_accordion = [] %}

    {% for module in all_modules %}
      {% set accordion_item_data = {
        "accordion_title": module.title,
        "accordion_content": module.description
      } %}
      {% do modules_data_to_accordion.append(accordion_item_data) %}
    {% endfor %}

    {% module "modules_listing_mobile" 
      path="../modules/Accordion.module" 
      label="Accordion" 
      accordion_item={{modules_data_to_accordion}}
    %}        
  </section>

  <section class="benefits region"></section>

  {# CTA #}

  <section class="how-it-works region"></section>

  {% module "testimonials" 
    label="Testimonials listing" 
    path="../modules/Landing Page Modules/LP-testimonial-slider.module"
    extra_classes="testimonials-slider"
  %}

  <section class="models region"></section>

  {# CTA #}
      
  {% module "contact_form"
    label="Contact form"
    path="../modules/Service-Line-Form.module"
  %}
</main>

{% endblock body %}
